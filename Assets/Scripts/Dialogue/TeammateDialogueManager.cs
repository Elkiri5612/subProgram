using System.Collections;
using System.Collections.Generic;
using UnityEngine.UI;
using UnityEngine;
using TMPro;

public class TeammateDialogueManager : MonoBehaviour {

	public GameObject dialoguePanel;
	public bool IsTalking;
	public TMP_Text talkText; // Inspector에서 할당
	public GameObject talkingTeammate;
	public DialogueText dialogueText;

	public int teammateId;
	public int textIndex;

	public void Talk(GameObject talkingTeammate, string teammateName) {
		/*
		if (talkText == null) {
			Debug.LogError("talkText가 Inspector에서 할당되지 않았습니다!");
			return;
		} 

		if (talkingTeammate == null) {
			Debug.LogError("talkingTeammate가 null입니다! 유효한 GameObject를 전달하세요.");
			return;
		} */

		// if (IsTalking) {
		//	IsTalking = false;
		// } else {
			IsTalking = true;
			this.talkingTeammate = talkingTeammate;
			// teammateId = talkingTeammate.id;
			talkText.text = "말하는 동료의 이름은 " + teammateName;
		// }

		dialoguePanel.SetActive(IsTalking);
		
	}

	public void getDialogueText() {
		dialogueText.GetText(teammateId, textIndex);
	}

	
}
